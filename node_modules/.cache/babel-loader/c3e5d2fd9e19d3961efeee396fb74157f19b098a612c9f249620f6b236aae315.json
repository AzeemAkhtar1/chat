{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chat-messages\",\n  ref: \"messagesContainer\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-center text-muted my-4\"\n};\nconst _hoisted_3 = {\n  class: \"message-content\"\n};\nconst _hoisted_4 = {\n  class: \"message-time\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$props.messages.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \" No messages yet. Start the conversation! \")) : _createCommentVNode(\"\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.messages, (message, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: _normalizeClass([\"message\", {\n        'message-sent': $setup.isSentMessage(message),\n        'message-received': !$setup.isSentMessage(message)\n      }])\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createTextVNode(_toDisplayString(message.content) + \" \", 1), _createElementVNode(\"small\", _hoisted_4, _toDisplayString($setup.formatTime(message.timestamp || message.createdAt)), 1)])], 2);\n  }), 128))], 512);\n}","map":{"version":3,"names":["class","ref","key","_createElementBlock","_hoisted_1","$props","messages","length","_hoisted_2","_createCommentVNode","_Fragment","_renderList","message","index","_normalizeClass","$setup","isSentMessage","_createElementVNode","_hoisted_3","_createTextVNode","_toDisplayString","content","_hoisted_4","formatTime","timestamp","createdAt"],"sources":["C:\\Users\\Admin\\Downloads\\chat-app-client-master\\chat-app-client-master\\src\\components\\chat\\ChatWindow.vue"],"sourcesContent":["<template>\n  <div class=\"chat-messages\" ref=\"messagesContainer\">\n    <div v-if=\"messages.length === 0\" class=\"text-center text-muted my-4\">\n      No messages yet. Start the conversation!\n    </div>\n    <div \n      v-for=\"(message, index) in messages\" \n      :key=\"index\"\n      class=\"message\"\n      :class=\"{ 'message-sent': isSentMessage(message), 'message-received': !isSentMessage(message) }\"\n    >\n      <div class=\"message-content\">\n        {{ message.content }}\n        <small class=\"message-time\">{{ formatTime(message.timestamp || message.createdAt) }}</small>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { onMounted, onUpdated, ref } from 'vue'\n\nexport default {\n  name: 'ChatWindow',\n  props: {\n    messages: {\n      type: Array,\n      required: true\n    },\n    currentUser: {\n      type: Object,\n      required: true\n    },\n    selectedUser: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const messagesContainer = ref(null)\n\n    const scrollToBottom = () => {\n      if (messagesContainer.value) {\n        messagesContainer.value.scrollTop = messagesContainer.value.scrollHeight\n      }\n    }\n\n    onMounted(() => {\n      scrollToBottom()\n    })\n\n    onUpdated(() => {\n      scrollToBottom()\n    })\n\n    const isSentMessage = (message) => {\n      return message.from === props.currentUser._id\n    }\n\n    const formatTime = (timestamp) => {\n      return new Date(timestamp).toLocaleTimeString([], { \n        hour: '2-digit', \n        minute: '2-digit' \n      })\n    }\n\n    return {\n      messagesContainer,\n      isSentMessage,\n      formatTime\n    }\n  }\n}\n</script>\n\n<style scoped>\n.chat-messages {\n  height: 400px;\n  overflow-y: auto;\n  padding: 1rem;\n}\n\n.message {\n  margin-bottom: 1rem;\n  max-width: 70%;\n}\n\n.message-sent {\n  margin-left: auto;\n}\n\n.message-received {\n  margin-right: auto;\n}\n\n.message-content {\n  padding: 0.5rem 1rem;\n  border-radius: 1rem;\n  position: relative;\n}\n\n.message-sent .message-content {\n  background-color: #007bff;\n  color: white;\n}\n\n.message-received .message-content {\n  background-color: #f1f1f1;\n}\n\n.message-time {\n  display: block;\n  font-size: 0.75rem;\n  margin-top: 0.25rem;\n  opacity: 0.7;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC,eAAe;EAACC,GAAG,EAAC;;;EADjCC,GAAA;EAEsCF,KAAK,EAAC;;;EASjCA,KAAK,EAAC;AAAiB;;EAEnBA,KAAK,EAAC;AAAc;;uBAZjCG,mBAAA,CAeM,OAfNC,UAeM,GAdOC,MAAA,CAAAC,QAAQ,CAACC,MAAM,U,cAA1BJ,mBAAA,CAEM,OAFNK,UAEM,EAFgE,4CAEtE,KAJJC,mBAAA,a,kBAKIN,mBAAA,CAUMO,SAAA,QAfVC,WAAA,CAMiCN,MAAA,CAAAC,QAAQ,EANzC,CAMcM,OAAO,EAAEC,KAAK;yBADxBV,mBAAA,CAUM;MARHD,GAAG,EAAEW,KAAK;MACXb,KAAK,EARXc,eAAA,EAQY,SAAS;QAAA,gBACWC,MAAA,CAAAC,aAAa,CAACJ,OAAO;QAAA,qBAAwBG,MAAA,CAAAC,aAAa,CAACJ,OAAO;MAAA;QAE5FK,mBAAA,CAGM,OAHNC,UAGM,GAdZC,gBAAA,CAAAC,gBAAA,CAYWR,OAAO,CAACS,OAAO,IAAG,GACrB,MAAAJ,mBAAA,CAA4F,SAA5FK,UAA4F,EAAAF,gBAAA,CAA7DL,MAAA,CAAAQ,UAAU,CAACX,OAAO,CAACY,SAAS,IAAIZ,OAAO,CAACa,SAAS,O","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}